apiVersion: v1
kind: Pod
metadata:
  name: test-pod
  namespace: default
spec:
  containers:
  - name: test-container
    image: test-image
---
name: invalid container name
applyConfiguration:
  spec:
    containers:
    - name: "invalid.container.name"
expectedErrors:
- field: spec.containers[0].name
  type: FieldValueInvalid
  detail: must be a valid DNS label
---
name: invalid container name using json patch
jsonPatch:
- { "op": "replace", "path": "/spec/containers/0/name", "value": "invalid.container.name.with.dots" }
expectedErrors:
- field: spec.containers[0].name
  type: FieldValueInvalid
  detail: must be a valid DNS label
---
name: invalid container name using replace
replace:
  "spec.containers[0].name": "invalid.container.name.with.dots.replace"
expectedErrors:
- field: spec.containers[0].name
  type: FieldValueInvalid
  detail: must be a valid DNS label
